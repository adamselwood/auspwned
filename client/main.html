<head>
  <title>PostBreach</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="icon" type="image/png" href="/images/postbreach_red.png">
</head>

<body class="red brown lighten-5">

</body>

<template name="header">
  <div class="row red darken-2">
    <div class="white-text valign-wrapper" style="padding: 20px"><img src="/images/postbreach_white.png" height="80px"/><div class="valign center-align" style="margin-left: 10px"><h4>PostBreach</h4></div></div>
  </div>
</template>

<template name="main">
  {{> header}}
  <div class="row">
    <div class="valign-wrapper">
      <div class="col s3 offset-s1"><div class="valign"><img src="/images/ap-data.png" height="75px" style="margin-right:0px"/></div></div>
      <div class="col s7" style="margin-left:0px"><p>A "breach" is an incident where a site's data has been illegally accessed by hackers and then released publically</p></div>
    </div>
  </div>
  {{> hibp}}

  {{> accountstate}}

  <div style="margin-bottom:10%"></div>
</template>

<template name="register">
  <div class="row brown lighten-5">
    <div class="white-text valign-wrapper">
      <div class="col s3 white-text"><div class="valign"><img src="/images/ap-laptop.png" height="75px" /></div></div>
      <div class="col s9"><h5 class="grey-text text-darken-3" style="margin-bottom:0px">Sign up for a</h5><br/><h5 class="red-text" style="margin-top:0px">digital mailbox account</h5></div>
    </div>
    <form class="col s10 offset-s1 white">
      <div class="row">
        <div class="input-field col s12">
          <input id="first_name" type="text">
          <label for="first_name">First Name</label>
        </div>
        <div class="input-field col s12">
          <input id="last_name" type="text">
          <label for="last_name">Last Name</label>
        </div>
        <div class="input-field col s12">
          <input id="email" type="email">
          <label for="email">Email</label>
        </div>
      {{> pwned_email}}
        <div class="input-field col s12">
          <input id="password" type="password">
          <label for="password">Password</label>
        </div>
        <div class="input-field col s12">
          <input id="password" type="password">
          <label for="password">Confirm Password</label>
        </div>
        <div class="input-field col s12">
          <input id="street_address" type="text">
          <label for="street_address">Street address</label>
        </div>
        <div class="input-field col s12" style="font-size: 60%">
          <input type="checkbox" id="test5" />
          <label for="test5">I agree to the <a href="#" class="grey-text text-darken-3">terms and conditions</a></label>
        </div>
      </div>
      <div class="center-align" style="margin:30px">
        <button class="btn waves-effect waves-light red darken-2 white-text" type="submit" name="action" style="display: block; width: 100%;">Submit</button>
      </div>
    </form>
  </div>
</template>

<template name="hibp">
  <div class="row">
    <div class="center-align col s10 offset-s1 white">
      <p>Enter your username or email below to check if it's been compromised</p>
      <form>
        <input id="account" name="account" type="text" class="center-align" placeholder="email address or username"/>
        <button class="btn waves-effect waves-light grey white-text" type="submit" name="action">Check Account</button>
      </form>
      <p></p>
    </div>
  </div>
</template>

<template name="accountstate">
  <div class="center-align">
    {{#if isCompromised}}
      <b class="red-text">It looks like you've been compromised</b>
      <div class="row">
        <div class="valign-wrapper">
          <div class="col s3 offset-s1"><div class="valign"><img src="/images/ap-computer.png" height="75px" style="margin-top: 20px; margin-right:0px"/></div></div>
          <div class="col s7" style="margin-left:0px"><p class="left-align">The account you entered was included in a known breach. Review the types of data that were compromised (email addresses, passwords, credit cards etc.) and take appropriate action, such as changing passwords.</p></div>
        </div>
      </div>
      <a class="btn waves-effect waves-light white black-text" href="/pwned">More Information</a>
    {{/if}}
  </div>
</template>

<template name="pwned_email">
  <div class="center-align" style="margin:20px">
    {{#if isCompromised}}
      <b><a href="/pwned" class="red-text">It looks like you've been compromised</a></b>
    {{/if}}
  </div>
</template>

<template name="pwned">
  {{> header}}
  <div class="row">
    <div class="valign-wrapper">
      <div class="col s3 offset-s1"><div class="valign"><img src="/images/ap-computer.png" height="75px" style="margin-right:0px"/></div></div>
      <div class="col s7" style="margin-left:0px"><p>I wish I was an iPad</p></div>
    </div>
  </div>
  <div class="row">
    <div class="valign-wrapper">
      <div class="col"><center><h1>{{[numChecked]}}</h1></center></div>
      <div class="col"><center><h4>Accounts Checked</h4></center></div>
    </div>
  </div>
  <div class="row">
    <div class="valign-wrapper">
      <div class="col"><center><h1>{{[numBreached]}}</h1></center></div>
      <div class="col"><center><h4>Accounts Breached</h4></center></div>
    </div>
  </div>
  <div style="margin-bottom:10%"></div>
</template>
